[{"D:\\MYCART\\client\\src\\index.js":"1","D:\\MYCART\\client\\src\\App.js":"2","D:\\MYCART\\client\\src\\reportWebVitals.js":"3","D:\\MYCART\\client\\src\\pages\\auth\\Register.js":"4","D:\\MYCART\\client\\src\\pages\\auth\\Login.js":"5","D:\\MYCART\\client\\src\\pages\\Home.js":"6","D:\\MYCART\\client\\src\\components\\nav\\Header.js":"7","D:\\MYCART\\client\\src\\firebase.js":"8","D:\\MYCART\\client\\src\\pages\\auth\\RegisterComplete.js":"9","D:\\MYCART\\client\\src\\reducers\\index.js":"10","D:\\MYCART\\client\\src\\reducers\\userReducer.js":"11","D:\\MYCART\\client\\src\\components\\Loader.js":"12","D:\\MYCART\\client\\src\\pages\\auth\\ForgotPassword.js":"13","D:\\MYCART\\client\\src\\functions\\auth.js":"14","D:\\MYCART\\client\\src\\pages\\user\\History.js":"15","D:\\MYCART\\client\\src\\components\\routes\\UserRoute.js":"16","D:\\MYCART\\client\\src\\components\\routes\\LoadingToRedirect.js":"17"},{"size":867,"mtime":1610972203848,"results":"18","hashOfConfig":"19"},{"size":2075,"mtime":1611255527216,"results":"20","hashOfConfig":"19"},{"size":362,"mtime":499162500000,"results":"21","hashOfConfig":"19"},{"size":1605,"mtime":1610998686090,"results":"22","hashOfConfig":"19"},{"size":4665,"mtime":1611242031707,"results":"23","hashOfConfig":"19"},{"size":154,"mtime":1610737789154,"results":"24","hashOfConfig":"19"},{"size":2031,"mtime":1610989361466,"results":"25","hashOfConfig":"19"},{"size":657,"mtime":1610870674636,"results":"26","hashOfConfig":"19"},{"size":2954,"mtime":1611213622640,"results":"27","hashOfConfig":"19"},{"size":183,"mtime":1610878874297,"results":"28","hashOfConfig":"19"},{"size":259,"mtime":1610878848121,"results":"29","hashOfConfig":"19"},{"size":405,"mtime":1610971831271,"results":"30","hashOfConfig":"19"},{"size":1891,"mtime":1610998375406,"results":"31","hashOfConfig":"19"},{"size":508,"mtime":1611220677148,"results":"32","hashOfConfig":"19"},{"size":248,"mtime":1611248479812,"results":"33","hashOfConfig":"19"},{"size":1348,"mtime":1611258017810,"results":"34","hashOfConfig":"19"},{"size":641,"mtime":1611258532297,"results":"35","hashOfConfig":"19"},{"filePath":"36","messages":"37","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},"zylff0",{"filePath":"39","messages":"40","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"41","messages":"42","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"43","messages":"44","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"45","usedDeprecatedRules":"38"},{"filePath":"46","messages":"47","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"48","messages":"49","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"50","messages":"51","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"52","messages":"53","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"54","messages":"55","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"56","usedDeprecatedRules":"38"},{"filePath":"57","messages":"58","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"59","messages":"60","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"61","usedDeprecatedRules":"38"},{"filePath":"62","messages":"63","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"64","messages":"65","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"66","usedDeprecatedRules":"38"},{"filePath":"67","messages":"68","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"69","messages":"70","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"71","messages":"72","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"73","messages":"74","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"D:\\MYCART\\client\\src\\index.js",[],["75","76"],"D:\\MYCART\\client\\src\\App.js",["77"],"D:\\MYCART\\client\\src\\reportWebVitals.js",[],"D:\\MYCART\\client\\src\\pages\\auth\\Register.js",["78"],"import React, { useState, useEffect } from 'react'\r\nimport { auth } from '../../firebase'\r\nimport { toast } from 'react-toastify'\r\nimport { useSelector } from 'react-redux'\r\n\r\nconst Register = ({ history }) => {\r\n  const [email, setEmail] = useState('')\r\n\r\n  const { user } = useSelector((state) => ({ ...state }))\r\n\r\n  useEffect(() => {\r\n    if (user && user.token) {\r\n      history.push('/')\r\n    }\r\n  }, [user])\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault()\r\n    const config = {\r\n      url: process.env.REACT_APP_REGISTER_REDIRECT_URL,\r\n      handleCodeInApp: true,\r\n    }\r\n\r\n    await auth.sendSignInLinkToEmail(email, config)\r\n    toast.success(\r\n      `Email is sent to ${email} click the link to complete your registration`\r\n    )\r\n\r\n    //save user emial to local storage\r\n    window.localStorage.setItem('emailForRegistration', email)\r\n\r\n    //Reset state\r\n    setEmail('')\r\n  }\r\n\r\n  const registerForm = () => (\r\n    <form onSubmit={handleSubmit}>\r\n      <input\r\n        type='email'\r\n        className='form-control'\r\n        value={email}\r\n        placeholder='Enter your email'\r\n        onChange={(e) => {\r\n          setEmail(e.target.value)\r\n        }}\r\n        autoFocus\r\n      />\r\n      <br />\r\n      <button type='submit' className='btn btn-raised'>\r\n        Register\r\n      </button>\r\n    </form>\r\n  )\r\n\r\n  return (\r\n    <div className='container p-5'>\r\n      <div className='row'>\r\n        <div className='col-md-6 offset-md-3'>\r\n          <h4>Register</h4>\r\n\r\n          {registerForm()}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Register\r\n","D:\\MYCART\\client\\src\\pages\\auth\\Login.js",["79","80","81"],"D:\\MYCART\\client\\src\\pages\\Home.js",[],"D:\\MYCART\\client\\src\\components\\nav\\Header.js",[],"D:\\MYCART\\client\\src\\firebase.js",[],"D:\\MYCART\\client\\src\\pages\\auth\\RegisterComplete.js",["82"],"import React, { useState, useEffect } from 'react'\r\nimport { auth } from '../../firebase'\r\nimport { toast } from 'react-toastify'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { createOrUpdateUser } from '../../functions/auth'\r\n\r\nconst RegisterComplete = ({ history }) => {\r\n  const [email, setEmail] = useState('')\r\n  const [password, setPassword] = useState('')\r\n  const dispatch = useDispatch()\r\n\r\n  const { user } = useSelector((state) => ({ ...state }))\r\n\r\n  useEffect(() => {\r\n    setEmail(window.localStorage.getItem('emailForRegistration'))\r\n  }, [])\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault()\r\n\r\n    //Manul validation\r\n    if (!email || !password) {\r\n      toast.error('Email and password is required')\r\n      return\r\n    }\r\n\r\n    if (password.length < 6) {\r\n      toast.error('Password must be atleast 6 characters long')\r\n      return\r\n    }\r\n\r\n    try {\r\n      const result = await auth.signInWithEmailLink(email, window.location.href)\r\n      console.log('RESULT', result)\r\n\r\n      if (result.user.emailVerified) {\r\n        //remove user email from local storage\r\n        window.localStorage.removeItem('emailForRegistration')\r\n\r\n        //get user id token\r\n        let user = auth.currentUser\r\n        await user.updatePassword(password)\r\n        const idTokenResult = await user.getIdTokenResult()\r\n\r\n        // console.log('user', user, 'idtoke ', idTokenResult)\r\n\r\n        //calling the function to send token to backend and setting data in redux store\r\n        createOrUpdateUser(idTokenResult.token)\r\n          .then((res) => {\r\n            dispatch({\r\n              type: 'LOGGED_IN_USER',\r\n              payload: {\r\n                name: res.data.name,\r\n                email: user.email,\r\n                token: idTokenResult.token,\r\n                role: res.data.role,\r\n                _id: res.data._id,\r\n              },\r\n            })\r\n          })\r\n          .catch((error) => {\r\n            toast.error(error.message)\r\n          })\r\n\r\n        //Redirect\r\n        history.push('/')\r\n      }\r\n    } catch (error) {\r\n      toast.error(error.message)\r\n    }\r\n  }\r\n\r\n  const completeRegistrationForm = () => (\r\n    <form onSubmit={handleSubmit}>\r\n      <input type='email' className='form-control' value={email} disabled />\r\n      <br />\r\n      <input\r\n        type='password'\r\n        className='form-control'\r\n        value={password}\r\n        onChange={(e) => setPassword(e.target.value)}\r\n        autoFocus\r\n        placeholder='Set Password'\r\n      />\r\n      <br />\r\n      <button type='submit' className='btn btn-raised'>\r\n        Complete registration\r\n      </button>\r\n    </form>\r\n  )\r\n\r\n  return (\r\n    <div className='container p-5'>\r\n      <div className='row'>\r\n        <div className='col-md-6 offset-md-3'>\r\n          <h4>Register Complete</h4>\r\n\r\n          {completeRegistrationForm()}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default RegisterComplete\r\n","D:\\MYCART\\client\\src\\reducers\\index.js",[],"D:\\MYCART\\client\\src\\reducers\\userReducer.js",["83"],"import React from 'react'\r\n\r\nexport const userReducer = (state = null, action) => {\r\n  switch (action.type) {\r\n    case 'LOGGED_IN_USER':\r\n      return action.payload\r\n    case 'LOGOUT':\r\n      return action.payload\r\n    default:\r\n      return state\r\n  }\r\n}\r\n","D:\\MYCART\\client\\src\\components\\Loader.js",[],"D:\\MYCART\\client\\src\\pages\\auth\\ForgotPassword.js",["84"],"import React, { useState, useEffect } from 'react'\r\nimport { auth } from '../../firebase'\r\nimport { toast } from 'react-toastify'\r\nimport { useSelector } from 'react-redux'\r\n\r\nconst ForgotPassword = ({ history }) => {\r\n  const [email, setEmail] = useState('')\r\n  const [loading, setLoading] = useState(false)\r\n  const { user } = useSelector((state) => ({ ...state }))\r\n\r\n  useEffect(() => {\r\n    if (user && user.token) {\r\n      history.push('/')\r\n    }\r\n  }, [user])\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault()\r\n    setLoading(true)\r\n    const config = {\r\n      url: process.env.REACT_APP_FORGOT_PASSWORD_REDIRECT,\r\n      handleCodeInApp: true,\r\n    }\r\n    await auth\r\n      .sendPasswordResetEmail(email, config)\r\n      .then(() => {\r\n        setEmail('')\r\n        setLoading(false)\r\n        toast.success('Check your email for password reset instructions')\r\n      })\r\n      .catch((error) => {\r\n        toast.error(error.message)\r\n        setLoading(false)\r\n        console.log(error)\r\n      })\r\n  }\r\n\r\n  return (\r\n    <div className='container'>\r\n      <div className='row'>\r\n        <div className='col-md-6 offset-3 p-5'>\r\n          {loading ? (\r\n            <h4 className='text-primary'>Loading....</h4>\r\n          ) : (\r\n            <h4>Forgot Password</h4>\r\n          )}\r\n\r\n          <form onSubmit={handleSubmit}>\r\n            <input\r\n              type='email'\r\n              className='form-control'\r\n              value={email}\r\n              placeholder='Type your email'\r\n              onChange={(e) => {\r\n                setEmail(e.target.value)\r\n              }}\r\n              autoFocus\r\n            />\r\n            <br />\r\n            <button type='submit' className='btn btn-raised' disabled={!email}>\r\n              Submit\r\n            </button>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ForgotPassword\r\n","D:\\MYCART\\client\\src\\functions\\auth.js",[],"D:\\MYCART\\client\\src\\pages\\user\\History.js",[],"D:\\MYCART\\client\\src\\components\\routes\\UserRoute.js",["85"],"D:\\MYCART\\client\\src\\components\\routes\\LoadingToRedirect.js",["86"],{"ruleId":"87","replacedBy":"88"},{"ruleId":"89","replacedBy":"90"},{"ruleId":"91","severity":1,"message":"92","line":49,"column":6,"nodeType":"93","endLine":49,"endColumn":8,"suggestions":"94"},{"ruleId":"91","severity":1,"message":"95","line":15,"column":6,"nodeType":"93","endLine":15,"endColumn":12,"suggestions":"96"},{"ruleId":"97","severity":1,"message":"98","line":5,"column":8,"nodeType":"99","messageId":"100","endLine":5,"endColumn":13},{"ruleId":"97","severity":1,"message":"101","line":9,"column":8,"nodeType":"99","messageId":"100","endLine":9,"endColumn":14},{"ruleId":"91","severity":1,"message":"95","line":24,"column":6,"nodeType":"93","endLine":24,"endColumn":12,"suggestions":"102"},{"ruleId":"97","severity":1,"message":"103","line":12,"column":11,"nodeType":"99","messageId":"100","endLine":12,"endColumn":15},{"ruleId":"97","severity":1,"message":"104","line":1,"column":8,"nodeType":"99","messageId":"100","endLine":1,"endColumn":13},{"ruleId":"91","severity":1,"message":"95","line":15,"column":6,"nodeType":"93","endLine":15,"endColumn":12,"suggestions":"105"},{"ruleId":"97","severity":1,"message":"106","line":2,"column":17,"nodeType":"99","messageId":"100","endLine":2,"endColumn":21},{"ruleId":"91","severity":1,"message":"95","line":16,"column":6,"nodeType":"93","endLine":16,"endColumn":13,"suggestions":"107"},"no-native-reassign",["108"],"no-negated-in-lhs",["109"],"react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'dispatch'. Either include it or remove the dependency array.","ArrayExpression",["110"],"React Hook useEffect has a missing dependency: 'history'. Either include it or remove the dependency array.",["111"],"no-unused-vars","'axios' is defined but never used.","Identifier","unusedVar","'Loader' is defined but never used.",["112"],"'user' is assigned a value but never used.","'React' is defined but never used.",["113"],"'Link' is defined but never used.",["114"],"no-global-assign","no-unsafe-negation",{"desc":"115","fix":"116"},{"desc":"117","fix":"118"},{"desc":"117","fix":"119"},{"desc":"117","fix":"120"},{"desc":"121","fix":"122"},"Update the dependencies array to be: [dispatch]",{"range":"123","text":"124"},"Update the dependencies array to be: [history, user]",{"range":"125","text":"126"},{"range":"127","text":"126"},{"range":"128","text":"126"},"Update the dependencies array to be: [count, history]",{"range":"129","text":"130"},[1542,1544],"[dispatch]",[407,413],"[history, user]",[838,844],[460,466],[463,470],"[count, history]"]